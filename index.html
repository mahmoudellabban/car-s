<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spare Part Form</title>
    <!--Main CSS file-->
    <link rel="stylesheet" href="styles.css" />
    <!--Phone number codes and flags-->
    <link rel="stylesheet" href="build/css/intlTelInput.css" />
    <link
      href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <!--first form-->
      <div id="form1" class="form">
        <h2>Car Details</h2>
        <select id="formType">
          <option value="">Select Form Type</option>
          <option value="individual">Individual</option>
          <option value="company">Company</option>
        </select>
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <select id="carBrand" required>
          <option value="">Select Car Brand</option>
          <!-- Populate options dynamically using JavaScript -->
        </select>
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <select id="carModel" required>
          <option value="">Select Car Model</option>
          <!-- Populate options dynamically using JavaScript -->
        </select>
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <select id="carYear" required>
          <option value="">Select Car Year</option>
          <!-- Populate options dynamically using JavaScript -->
        </select>
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <div id="carImageContainer" class="car-image-container"></div>
        <button id="nextBtn1">Next</button>
      </div>
      <!--End of first form-->
      <!--Second form-->
      <div id="form2" class="form" style="display: none">
        <h2>Spare Part Details</h2>
        <div id="form-container">
          <div class="form-group">
            <label for="input1">Spare Part Name</label>
            <input type="text" id="input1" name="input1" />
          </div>
          <div class="btns">
            <button id="add-btn">Add</button>
          </div>
        </div>
        <div class="btns">
          <button id="backBtn2">Back</button>
          <button id="nextBtn2">Next</button>
        </div>
      </div>
      <!--End of second form-->
      <!--Third form-->
      <div id="form3" class="form" style="display: none">
        <h2>Customer Details</h2>
        <label for="customerName">Customer's Name:</label>
        <input
          type="text"
          id="customerName"
          name="customerName"
          data-type="text"
          required
        />
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <label for="customerEmail">Customer's Email:</label>
        <input
          type="email"
          id="customerEmail"
          name="customerEmail"
          required
          data-type="email"
        />
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <label for="phoneNumber">Customer's Phone Number:</label>
        <div class="phone-input">
          <input
            type="tel"
            id="phone"
            name="phoneNumber"
            required
            data-type="number"
          />
          <span class="required-message" style="display: none"
            >This field is required</span
          >
        </div>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required />
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <label for="confirmPassword">Confirm Password:</label>
        <input
          type="password"
          id="confirmPassword"
          name="confirmPassword"
          required
        />
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <div class="btns">
          <button id="backBtn3">Back</button>
          <button id="nextBtn3">Next</button>
        </div>
      </div>
      <!--End of third form-->
      <!--Fourth form-->
      <div id="form4" class="form" style="display: none">
        <h2>Shipping Details</h2>
        <label for="shippingOption">Shipping Option:</label>
        <select id="shippingOption" name="shippingOption" required>
          <option value="">Select Shipping Option</option>
          <option value="me">To Me</option>
          <option value="friend">To Friend</option>
        </select>
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <div class="row">
          <div class="row1">
            <label for="arabicFullName">Full Name (Arabic):</label>
            <input
              type="text"
              id="arabicFullName"
              name="arabicFullName"
              required
              data-type="text"
            />
            <span class="required-message" style="display: none"
              >This field is required</span
            >
          </div>
          <div class="row1">
            <label for="englishFullName">Full Name (English):</label>
            <input
              type="text"
              id="englishFullName"
              name="englishFullName"
              required
              data-type="text"
            />
            <span class="required-message" style="display: none"
              >This field is required</span
            >
          </div>
        </div>
        <div class="row">
          <div class="row1">
            <label for="country">Country:</label>
            <input
              type="text"
              id="country"
              name="country"
              required
              data-type="text"
            />
            <span class="required-message" style="display: none"
              >This field is required</span
            >
          </div>
          <div class="row1">
            <label for="town">Town:</label>
            <input
              type="text"
              id="town"
              name="town"
              required
              data-type="text"
            />
            <span class="required-message" style="display: none"
              >This field is required</span
            >
          </div>
        </div>
        <label for="postalCode">Postal Code:</label>
        <input
          type="text"
          id="postalCode"
          name="postalCode"
          required
          data-type="number"
        />
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <label for="shippingPhoneNumber">Phone Number:</label>
        <div class="phone-input">
          <input
            type="tel"
            id="phone2"
            name="phoneNumber"
            required
            data-type="number"
          />
          <span class="required-message" style="display: none"
            >This field is required</span
          >
        </div>
        <label for="addressDescription">Address Description:</label>
        <textarea
          id="addressDescription"
          name="addressDescription"
          rows="4"
          required
        ></textarea>
        <span class="required-message" style="display: none"
          >This field is required</span
        >

        <div class="btns">
          <button id="backBtn4">Back</button>
          <button id="submitBtn">Submit</button>
        </div>
      </div>
      <!--End of fourth form-->
      <!--order details-->
      <div id="userDetailsPage" style="display: none">
        <div id="userDetails"></div>
      </div>
      <!--End of order details-->
    </div>
    <!--Main script file-->
    <script src="script.js"></script>
    <!--Phone number codes and flags script-->
    <script src="build/js/intlTelInput.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const formContainer = document.getElementById("form-container");
const addBtn = document.getElementById("add-btn");
let fieldCounter = 0;

// Array of field objects
const fields = [
    { label: "Spare Part Number", type: "number" },
    { label: "Spare Part Serial Number", type: "text" },
    { label: "Car Number", type: "text" },
    { label: "Part Description", type: "textarea" },
    { label: "Part Image", type: "file" }
];

addBtn.addEventListener("click", function () {
    fields.forEach((field) => {
        fieldCounter++;
        addField(field.label, field.type, fieldCounter); // Pass fieldCounter to addField
    });
});

formContainer.addEventListener("click", function (event) {
    const target = event.target;

    if (target.classList.contains("remove-btn")) {
        removeField(target.parentNode);
    }
});

 function  addField(labelName, inputType, fieldCounter) {
    const newField = document.createElement("div");
    newField.classList.add("form-group");
    const inputId = `input${fieldCounter}`; // Unique input ID

    if (inputType === "textarea") {
        newField.innerHTML = `
            <label for="${inputId}">${labelName}:</label>
            <textarea id="${inputId}" name="${inputId}" rows="4"></textarea>
        `;
    } else if (inputType === "file") {
        const previewId = `preview${fieldCounter}`; // Unique preview ID
        newField.innerHTML = `
            <label for="${inputId}">${labelName}:</label>
            <input type="file" id="${inputId}" name="${inputId}" accept="image/*">
            <img id="${previewId}" src="#" alt="Preview" style="display:none; max-width: 100px; max-height: 100px;">
        `;
        // Add event listener to show image preview
        const inputField = newField.querySelector(`#${inputId}`);
        const previewImg = newField.querySelector(`#${previewId}`);
        inputField.addEventListener("change", function(event) {
            const file = event.target.files[0];
            const reader = new FileReader();
            reader.onload = function(e) {
                previewImg.src = e.target.result;
                previewImg.style.display = "block";
            };
            reader.readAsDataURL(file);
        });
    } else {
        newField.innerHTML = `
            <label for="${inputId}">${labelName}:</label>
            <input type="${inputType}" id="${inputId}" name="${inputId}">
        `;
    }
    formContainer.appendChild(newField);
}

function removeField(field) {
    formContainer.removeChild(field);
}
      });

      var input = document.querySelector("#phone");
      window.intlTelInput(input, {});
      var input = document.querySelector("#phone2");
      window.intlTelInput(input, {});
    </script>
  </body>
</html>
